<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="84d8fc79-5530-4557-adf3-c8ee8cb5ac6c" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="ZeroDollarError" searchProperties="true" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="84d8fc79-5530-4557-adf3-c8ee8cb5ac6cfileName">ZeroDollarError</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="datasource" name="DataSourceZeroDollarError" id="2823694e-8e9d-4d58-b26d-fd651206f9f3">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="Excel">
        <con:configuration>
          <file>C:/SoapData/ZeroDollarError.xlsx</file>
          <worksheet>Sheet1</worksheet>
          <cell>A2</cell>
          <ignoreEmpty>true</ignoreEmpty>
          <evaluateFormulas>false</evaluateFormulas>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>TestNotes</con:property>
      <con:property>Username</con:property>
      <con:property>Password</con:property>
      <con:property>RequestID</con:property>
      <con:property>BEID</con:property>
      <con:property>Amount</con:property>
      <con:property>SegmentType</con:property>
      <con:property>PaymentType</con:property>
      <con:property>BusinessName</con:property>
      <con:property>IsBusiness</con:property>
      <con:property>ABANumber</con:property>
      <con:property>AccountType</con:property>
      <con:property>CheckType</con:property>
      <con:property>CVV</con:property>
      <con:property>ExpDate</con:property>
      <con:property>VehicleNumber</con:property>
      <con:property>PMCategory</con:property>
      <con:completeLastOperation>true</con:completeLastOperation>
      <con:restartOnRun>true</con:restartOnRun>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="SubmitPPIPayment" id="5f2a894c-436d-4bb7-812c-bc519378f0d6">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PPIServiceFacadeSoap</con:interface>
      <con:operation>SubmitPPIPayment</con:operation>
      <con:request name="SubmitPPIPayment" id="04a16aad-3b1a-4587-80f7-b8ac37715599">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>https://qa.velocitypayment.com:443/vgateway/VGatewayWebService</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ws="https://www.velocitypayment.com/ws">
   <soapenv:Header/>
   <soapenv:Body>
      <ws:SubmitPPIPayment><ws:payment><ppi:AdditionalInfo xmlns:ppi="http://www.ePayments.com/PPI"><ppi:Fees><ppip:FeeType xmlns:ppip="http://www.ePayments.com/PPIPayment">Customer</ppip:FeeType><ppip:Amount xmlns:ppip="http://www.ePayments.com/PPIPayment">0</ppip:Amount></ppi:Fees><ppi:PaymentSegment><ppip:Amount xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceZeroDollarError#Amount}</ppip:Amount><ppip:SegmentType xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceZeroDollarError#SegmentType}</ppip:SegmentType></ppi:PaymentSegment><ppi:PaymentType>${DataSourceZeroDollarError#PaymentType}</ppi:PaymentType><ppi:ProcessDate>2020-05-22T10:00:00.000-04:00</ppi:ProcessDate></ppi:AdditionalInfo><ppi:ClientAccountNumber xmlns:ppi="http://www.ePayments.com/PPI">12598652</ppi:ClientAccountNumber><ppi:PreAuthorizeOnly xmlns:ppi="http://www.ePayments.com/PPI">false</ppi:PreAuthorizeOnly><ppi:PaymentSource xmlns:ppi="http://www.ePayments.com/PPI">Web</ppi:PaymentSource><ppi:Payor xmlns:ppi="http://www.ePayments.com/PPI"><ppi:AddressLine1>2311 york road</ppi:AddressLine1><ppi:FirstName>Imtiaz</ppi:FirstName><ppi:LastName>Ahmed</ppi:LastName><ppi:ZipCode>22201</ppi:ZipCode><ppi:BusinessName>${DataSourceZeroDollarError#BusinessName}</ppi:BusinessName><ppi:IsBusinessName>${DataSourceZeroDollarError#IsBusiness}</ppi:IsBusinessName></ppi:Payor><ppi:Vehicle xmlns:ppi="http://www.ePayments.com/PPI"><ppip:AbaNumber xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceZeroDollarError#ABANumber}</ppip:AbaNumber><ppip:AccountType xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceZeroDollarError#AccountType}</ppip:AccountType><ppip:CheckType xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceZeroDollarError#CheckType}</ppip:CheckType><ppip:CheckNumberPosition xmlns:ppip="http://www.ePayments.com/PPIPayment"/><ppip:CVV2Code xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceZeroDollarError#CVV}</ppip:CVV2Code><ppip:ExpirationDate xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceZeroDollarError#ExpDate}</ppip:ExpirationDate><ppip:PaymentVehicleNumber xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceZeroDollarError#VehicleNumber}</ppip:PaymentVehicleNumber><ppip:PaymentMethodCategory xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceZeroDollarError#PMCategory}</ppip:PaymentMethodCategory><ppip:EnforcePinDebitValidation xmlns:ppip="http://www.ePayments.com/PPIPayment">false</ppip:EnforcePinDebitValidation></ppi:Vehicle></ws:payment><ws:token><ppi:UserName xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceZeroDollarError#Username}</ppi:UserName><ppi:Password xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceZeroDollarError#Password}</ppi:Password><ppi:PPITransactionRequestId xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceZeroDollarError#RequestID}</ppi:PPITransactionRequestId><ppi:PPIBusinessEntityIdentifierToken xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceZeroDollarError#BEID}</ppi:PPIBusinessEntityIdentifierToken></ws:token></ws:SubmitPPIPayment>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="7b2dbfbb-3f1c-4f15-b0fa-b933d8a5f9a4"/>
        <con:assertion type="XPath Match" id="b88ed4d9-2592-40dc-82bc-5f067ccb8865" name="Match content of [ns0:ResultCode]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitPPIPaymentResponse[1]/ns1:SubmitPPIPaymentResult[1]/ns0:ResultCode[1]/text()</path>
            <content>10053</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="30ed9da1-f82c-4750-b76d-3371e124d5be" name="Match content of [ns0:ResultText]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitPPIPaymentResponse[1]/ns1:SubmitPPIPaymentResult[1]/ns0:ResultText[1]/text()</path>
            <content>VALIDATION ERROR: Invalid Payment Amount.</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="b7add9f2-4b42-4185-a08b-7a92d82fc35d" name="Match content of [ns0:Success]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitPPIPaymentResponse[1]/ns1:SubmitPPIPaymentResult[1]/ns0:Success[1]/text()</path>
            <content>false</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>Inherit From Parent</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:jmsPropertyConfig/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="datasourceloop" name="DataSource Loop" id="d7f9174c-fd27-4220-ad80-0965a26a0866">
    <con:settings/>
    <con:config>
      <dataSourceStep>DataSourceZeroDollarError</dataSourceStep>
      <targetStep>SubmitPPIPayment</targetStep>
      <discardResults>true</discardResults>
    </con:config>
  </con:testStep>
  <con:properties/>
  <con:reportParameters/>
</con:testCase>
