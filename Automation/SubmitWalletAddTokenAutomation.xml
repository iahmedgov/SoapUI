<?xml version="1.0" encoding="UTF-8"?>
<con:testCase id="a775be6e-9e3f-4143-841a-6c9d924d7f07" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="SubmitWalletAddTokenAutomation" searchProperties="true" maxResults="0" timeout="0" wsrmEnabled="false" wsrmVersion="1.0" wsrmAckTo="" amfAuthorisation="false" amfEndpoint="" amfLogin="" amfPassword="" xmlns:con="http://eviware.com/soapui/config">
  <con:settings>
    <con:setting id="IncludeOverview">true</con:setting>
    <con:setting id="IncludeResults">true</con:setting>
    <con:setting id="FlowLayout">true</con:setting>
    <con:setting id="ErrorDetails">true</con:setting>
    <con:setting id="IncludeCoverage">true</con:setting>
    <con:setting id="GeneratableJUnitReport@Style">Multiple Pages</con:setting>
    <con:setting id="GeneratableJUnitReport@Folder"/>
    <con:setting id="a775be6e-9e3f-4143-841a-6c9d924d7f07fileName">SubmitWalletAddTokenAutomation</con:setting>
  </con:settings>
  <con:savedRecentRuns>1</con:savedRecentRuns>
  <con:testStep type="datasource" name="DataSourceAddToken" id="ba5f2a2a-7742-4ca5-bea4-1c9dd95e9120">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="Excel">
        <con:configuration>
          <file>C:/SoapData/WalletData.xlsx</file>
          <worksheet>AddToken</worksheet>
          <cell>A2</cell>
          <ignoreEmpty>true</ignoreEmpty>
          <evaluateFormulas>false</evaluateFormulas>
        </con:configuration>
      </con:dataSource>
      <con:property>TestNotes</con:property>
      <con:property>Username</con:property>
      <con:property>Password</con:property>
      <con:property>RequestID</con:property>
      <con:property>BEIDToken</con:property>
      <con:property>Action</con:property>
      <con:property>Nickname</con:property>
      <con:property>ABANumber</con:property>
      <con:property>ACType</con:property>
      <con:property>CheckNum</con:property>
      <con:property>CheckType</con:property>
      <con:property>CheckPos</con:property>
      <con:property>CVV</con:property>
      <con:property>ExpDate</con:property>
      <con:property>VehicleNumber</con:property>
      <con:property>PMCategory</con:property>
      <con:property>EnforcePIN</con:property>
      <con:property>ACName</con:property>
      <con:property>AL1</con:property>
      <con:property>AL2</con:property>
      <con:property>Country</con:property>
      <con:property>Phone</con:property>
      <con:property>FirstName</con:property>
      <con:property>LastName</con:property>
      <con:property>MI</con:property>
      <con:property>Email</con:property>
      <con:property>ZIP</con:property>
      <con:property>BusineName</con:property>
      <con:property>IsBusName</con:property>
      <con:property>PayACToken</con:property>
      <con:property>ClientRefNum</con:property>
      <con:property>ResultCode</con:property>
      <con:property>ResultText</con:property>
      <con:property>Success</con:property>
      <con:property>DW_Action</con:property>
      <con:property>DW_ResultCode</con:property>
      <con:property>DW_ResultText</con:property>
      <con:property>DW_Success</con:property>
      <con:completeLastOperation>true</con:completeLastOperation>
      <con:restartOnRun>true</con:restartOnRun>
    </con:config>
  </con:testStep>
  <con:testStep type="datagen" name="DataGenWalletID" id="2e75cb68-3400-484c-b5d9-97f704e5c43f">
    <con:settings/>
    <con:config xsi:type="con:DataGeneratorStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:property type="Number">
        <con:configuration>
          <start>1000000000</start>
          <end>9000000000</end>
          <step/>
          <pattern/>
          <random>true</random>
          <persist>false</persist>
        </con:configuration>
        <con:name>GenWalletID</con:name>
        <con:mode>STEP</con:mode>
        <con:shared>true</con:shared>
      </con:property>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="50048371-5d59-4934-9d88-7302884dafa3" name="AddTokenAutomation">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PPIServiceFacadeSoap</con:interface>
      <con:operation>SubmitWalletInformation</con:operation>
      <con:request name="AddTokenAutomation" id="2e8ca9cf-f51b-48e1-98d3-b2662375c32d" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>https://qa.velocitypayment.com:443/vgateway/VGatewayWebService</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ws="https://www.velocitypayment.com/ws" xmlns:ppi="http://www.ePayments.com/PPI" xmlns:ppip="http://www.ePayments.com/PPIPayment">
   <soapenv:Header/>
   <soapenv:Body>
      <ws:SubmitWalletInformation>
         <!--Optional:-->
         <ws:token>
            <!--Optional:-->
            <!--Optional:-->
            <ppi:UserName>${DataSourceAddToken#Username}</ppi:UserName>
            <!--Optional:-->
            <ppi:Password>${DataSourceAddToken#Password}</ppi:Password>
            <!--Optional:-->
            <ppi:PPITransactionRequestId>${DataSourceAddToken#RequestID}</ppi:PPITransactionRequestId>
            <ppi:PPIBusinessEntityIdentifierToken>${DataSourceAddToken#BEIDToken}</ppi:PPIBusinessEntityIdentifierToken>
         </ws:token>
         <!--Optional:-->
         <ws:walletRequest>
            <ppi:Action>${DataSourceAddToken#Action}</ppi:Action>
            <!--Optional:-->
            <!--Optional:-->
            <ppi:NickName>${DataSourceAddToken#Nickname}</ppi:NickName>
            <!--Optional:-->
            <ppi:WalletID>${DataGenWalletID#GenWalletID}</ppi:WalletID>
            <ppi:Vehicle>
               <!--Optional:-->
               <ppip:AbaNumber>${DataSourceAddToken#ABANumber}</ppip:AbaNumber>
               <ppip:AccountType>${DataSourceAddToken#ACType}</ppip:AccountType>
               <!--Optional:-->
               <ppip:CheckNumber>${DataSourceAddToken#CheckNum}</ppip:CheckNumber>
               <ppip:CheckType>${DataSourceAddToken#CheckType}</ppip:CheckType>
               <ppip:CheckNumberPosition>${DataSourceAddToken#CheckPos}</ppip:CheckNumberPosition>
               <!--Optional:-->
               <!--Optional:-->
               <ppip:CVV2Code>${DataSourceAddToken#CVV}</ppip:CVV2Code>
               <!--Optional:-->
               <ppip:ExpirationDate>${DataSourceAddToken#ExpDate}</ppip:ExpirationDate>
               <ppip:PaymentVehicleNumber>${DataSourceAddToken#VehicleNumber}</ppip:PaymentVehicleNumber>
               <ppip:PaymentMethodCategory>${DataSourceAddToken#PMCategory}</ppip:PaymentMethodCategory>
               <ppip:EnforcePinDebitValidation>${DataSourceAddToken#EnforcePIN}</ppip:EnforcePinDebitValidation>
            </ppi:Vehicle>
            <!--Optional:-->
            <ppi:Payor>
               <!--Optional:-->
               <!--Optional:-->
               <ppi:AccountName>${DataSourceAddToken#ACName}</ppi:AccountName>
               <!--Optional:-->
               <ppi:AddressLine1>${DataSourceAddToken#AL1}</ppi:AddressLine1>
               <!--Optional:-->
               <ppi:AddressLine2>${DataSourceAddToken#AL2}</ppi:AddressLine2>
               <!--Optional:-->
               <ppi:Country>${DataSourceAddToken#Country}</ppi:Country>
               <!--Optional:-->
               <ppi:PhoneNumber>${DataSourceAddToken#Phone}</ppi:PhoneNumber>
               <!--Optional:-->
               <ppi:FirstName>${DataSourceAddToken#FirstName}</ppi:FirstName>
               <!--Optional:-->
               <ppi:LastName>${DataSourceAddToken#LastName}</ppi:LastName>
               <!--Optional:-->
               <ppi:MiddleInitial>${DataSourceAddToken#MI}</ppi:MiddleInitial>
               <!--Optional:-->
               <ppi:EmailAddress>${DataSourceAddToken#Email}</ppi:EmailAddress>
               <!--Optional:-->
               <ppi:ZipCode>${DataSourceAddToken#ZIP}</ppi:ZipCode>
               <ppi:BusinessName>${DataSourceAddToken#BusineName}</ppi:BusinessName>
               <ppi:IsBusinessName>${DataSourceAddToken#IsBusName}</ppi:IsBusinessName>
            </ppi:Payor>
            <!--Optional:-->
            <!--Optional:-->
            <ppi:PaymentAccountToken>${DataSourceAddToken#PayACToken}</ppi:PaymentAccountToken>
            <ppi:ClientReferenceNumber>${DataSourceAddToken#ClientRefNum}</ppi:ClientReferenceNumber>
         </ws:walletRequest>
      </ws:SubmitWalletInformation>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="XPath Match" id="bbec230c-24c8-4f5b-bac9-0c60c90de2bf" name="Match content of [ns0:ResultCode]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitWalletInformationResponse[1]/ns1:SubmitWalletInformationResult[1]/ns0:ResultCode[1]/text()</path>
            <content>${DataSourceAddToken#ResultCode}</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="858b5979-1175-467b-9bfd-267d9d9769ad" name="Match content of [ns0:ResultText]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitWalletInformationResponse[1]/ns1:SubmitWalletInformationResult[1]/ns0:ResultText[1]/text()</path>
            <content>${DataSourceAddToken#ResultText}</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="b34730d8-5322-4168-a4ec-6dff055f2f25" name="Match content of [ns0:Success]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitWalletInformationResponse[1]/ns1:SubmitWalletInformationResult[1]/ns0:Success[1]/text()</path>
            <content>${DataSourceAddToken#Success}</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig action="https://www.velocitypayment.com/ws/SubmitWalletInformation" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="transfer" name="GeneratedWalletID" id="6dbe1ae3-e0f3-48cb-9c9d-957afec47b44">
    <con:settings/>
    <con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false">
        <con:name>WallID</con:name>
        <con:sourceType>Request</con:sourceType>
        <con:sourceStep>AddTokenAutomation</con:sourceStep>
        <con:sourcePath>${DataGenWalletID#GenWalletID}</con:sourcePath>
        <con:targetType>WalletID</con:targetType>
        <con:targetStep>#TestCase#</con:targetStep>
        <con:targetPath/>
        <con:upgraded>true</con:upgraded>
      </con:transfers>
    </con:config>
  </con:testStep>
  <con:testStep type="request" id="87feccf5-b41a-46b0-bbdc-694f58352a53" name="DeleteToken">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PPIServiceFacadeSoap</con:interface>
      <con:operation>SubmitWalletInformation</con:operation>
      <con:request name="DeleteToken" id="2e8ca9cf-f51b-48e1-98d3-b2662375c32d" defaultOutgoingWss="" defaultIncomingWss="">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>https://qa.velocitypayment.com:443/vgateway/VGatewayWebService</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ws="https://www.velocitypayment.com/ws" xmlns:ppi="http://www.ePayments.com/PPI" xmlns:ppip="http://www.ePayments.com/PPIPayment">
   <soapenv:Header/>
   <soapenv:Body>
      <ws:SubmitWalletInformation>
         <!--Optional:-->
         <ws:token>
            <!--Optional:-->
            <!--Optional:-->
            <ppi:UserName>${DataSourceAddToken#Username}</ppi:UserName>
            <!--Optional:-->
            <ppi:Password>${DataSourceAddToken#Password}</ppi:Password>
            <!--Optional:-->
            <ppi:PPITransactionRequestId>${DataSourceAddToken#RequestID}</ppi:PPITransactionRequestId>
            <ppi:PPIBusinessEntityIdentifierToken>${DataSourceAddToken#BEIDToken}</ppi:PPIBusinessEntityIdentifierToken>
         </ws:token>
         <!--Optional:-->
         <ws:walletRequest>
            <ppi:Action>${DataSourceAddToken#DW_Action}</ppi:Action>
            <!--Optional:-->
            <!--Optional:-->
            <ppi:NickName>${DataSourceAddToken#Nickname}</ppi:NickName>
            <!--Optional:-->
            <ppi:WalletID>${#TestCase#WalletID}</ppi:WalletID>
            <ppi:Vehicle>
               <!--Optional:-->
               <ppip:AbaNumber>${DataSourceAddToken#ABANumber}</ppip:AbaNumber>
               <ppip:AccountType>${DataSourceAddToken#ACType}</ppip:AccountType>
               <!--Optional:-->
               <ppip:CheckNumber>${DataSourceAddToken#CheckNum}</ppip:CheckNumber>
               <ppip:CheckType>${DataSourceAddToken#CheckType}</ppip:CheckType>
               <ppip:CheckNumberPosition>${DataSourceAddToken#CheckPos}</ppip:CheckNumberPosition>
               <!--Optional:-->
               <!--Optional:-->
               <ppip:CVV2Code>${DataSourceAddToken#CVV}</ppip:CVV2Code>
               <!--Optional:-->
               <ppip:ExpirationDate>${DataSourceAddToken#ExpDate}</ppip:ExpirationDate>
               <ppip:PaymentVehicleNumber>${DataSourceAddToken#VehicleNumber}</ppip:PaymentVehicleNumber>
               <ppip:PaymentMethodCategory>${DataSourceAddToken#PMCategory}</ppip:PaymentMethodCategory>
               <ppip:EnforcePinDebitValidation>${DataSourceAddToken#EnforcePIN}</ppip:EnforcePinDebitValidation>
            </ppi:Vehicle>
            <!--Optional:-->
            <ppi:Payor>
               <!--Optional:-->
               <!--Optional:-->
               <ppi:AccountName>${DataSourceAddToken#ACName}</ppi:AccountName>
               <!--Optional:-->
               <ppi:AddressLine1>${DataSourceAddToken#AL1}</ppi:AddressLine1>
               <!--Optional:-->
               <ppi:AddressLine2>${DataSourceAddToken#AL2}</ppi:AddressLine2>
               <!--Optional:-->
               <ppi:Country>${DataSourceAddToken#Country}</ppi:Country>
               <!--Optional:-->
               <ppi:PhoneNumber>${DataSourceAddToken#Phone}</ppi:PhoneNumber>
               <!--Optional:-->
               <ppi:FirstName>${DataSourceAddToken#FirstName}</ppi:FirstName>
               <!--Optional:-->
               <ppi:LastName>${DataSourceAddToken#LastName}</ppi:LastName>
               <!--Optional:-->
               <ppi:MiddleInitial>${DataSourceAddToken#MI}</ppi:MiddleInitial>
               <!--Optional:-->
               <ppi:EmailAddress>${DataSourceAddToken#Email}</ppi:EmailAddress>
               <!--Optional:-->
               <ppi:ZipCode>${DataSourceAddToken#ZIP}</ppi:ZipCode>
               <ppi:BusinessName>${DataSourceAddToken#BusineName}</ppi:BusinessName>
               <ppi:IsBusinessName>${DataSourceAddToken#IsBusName}</ppi:IsBusinessName>
            </ppi:Payor>
            <!--Optional:-->
            <!--Optional:-->
            <ppi:PaymentAccountToken>${DataSourceAddToken#PayACToken}</ppi:PaymentAccountToken>
            <ppi:ClientReferenceNumber>${DataSourceAddToken#ClientRefNum}</ppi:ClientReferenceNumber>
         </ws:walletRequest>
      </ws:SubmitWalletInformation>
   </soapenv:Body>
</soapenv:Envelope>]]></con:request>
        <con:assertion type="XPath Match" id="fd2e274b-7a63-4969-bf69-654bac633368" name="Match content of [ns0:ResultCode]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitWalletInformationResponse[1]/ns1:SubmitWalletInformationResult[1]/ns0:ResultCode[1]/text()</path>
            <content>${DataSourceAddToken#DW_ResultCode}</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="d99c387a-c22a-44a0-a622-e087000f5b20" name="Match content of [ns0:ResultText]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitWalletInformationResponse[1]/ns1:SubmitWalletInformationResult[1]/ns0:ResultText[1]/text()</path>
            <content>${DataSourceAddToken#DW_ResultText}</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="d19c0c3b-deb6-436b-8e66-a8edcb64e31f" name="Match content of [ns0:Success]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitWalletInformationResponse[1]/ns1:SubmitWalletInformationResult[1]/ns0:Success[1]/text()</path>
            <content>${DataSourceAddToken#DW_Success}</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig action="https://www.velocitypayment.com/ws/SubmitWalletInformation" mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="datasourceloop" name="DataSource Loop" id="bc59a91b-fe19-49dd-bcbf-0972ab0af234">
    <con:settings/>
    <con:config>
      <dataSourceStep>DataSourceAddToken</dataSourceStep>
      <targetStep>DataGenWalletID</targetStep>
    </con:config>
  </con:testStep>
  <con:testStep type="datasource" name="DataSourceAddTokenNegative" id="51f0882a-83c9-4724-b6e4-66d3cd90edb1">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="Excel">
        <con:configuration>
          <file>C:/SoapData/WalletData.xlsx</file>
          <worksheet>AddTokenError</worksheet>
          <cell>A2</cell>
          <ignoreEmpty>true</ignoreEmpty>
          <evaluateFormulas>false</evaluateFormulas>
        </con:configuration>
      </con:dataSource>
      <con:property>TestNotes</con:property>
      <con:property>Username</con:property>
      <con:property>Password</con:property>
      <con:property>RequestID</con:property>
      <con:property>BEIDToken</con:property>
      <con:property>Action</con:property>
      <con:property>Nickname</con:property>
      <con:property>ABANumber</con:property>
      <con:property>ACType</con:property>
      <con:property>CheckNum</con:property>
      <con:property>CheckType</con:property>
      <con:property>CheckPos</con:property>
      <con:property>CVV</con:property>
      <con:property>ExpDate</con:property>
      <con:property>VehicleNumber</con:property>
      <con:property>PMCategory</con:property>
      <con:property>EnforcePIN</con:property>
      <con:property>ACName</con:property>
      <con:property>AL1</con:property>
      <con:property>AL2</con:property>
      <con:property>Country</con:property>
      <con:property>Phone</con:property>
      <con:property>FirstName</con:property>
      <con:property>LastName</con:property>
      <con:property>MI</con:property>
      <con:property>Email</con:property>
      <con:property>ZIP</con:property>
      <con:property>BusineName</con:property>
      <con:property>IsBusName</con:property>
      <con:property>PayACToken</con:property>
      <con:property>ClientRefNum</con:property>
      <con:property>ResultCode</con:property>
      <con:property>ResultText</con:property>
      <con:property>Success</con:property>
      <con:completeLastOperation>true</con:completeLastOperation>
      <con:restartOnRun>true</con:restartOnRun>
    </con:config>
  </con:testStep>
  <con:testStep type="groovy" name="GroovyScriptGenWalletID" id="1ca7c597-d831-4389-8167-3b5f586f1689">
    <con:settings/>
    <con:config>
      <script>String randomString = org.apache.commons.lang.RandomStringUtils.random(9, true, true)</script>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="AddTokenNegative" id="8901f5bb-34ec-43ed-8d9c-3265d88ed69d">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PPIServiceFacadeSoap</con:interface>
      <con:operation>SubmitWalletInformation</con:operation>
      <con:request name="AddTokenNegative" id="0dd3d8bb-75f7-481d-8210-6e5826631e35">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>https://qa.velocitypayment.com:443/vgateway/VGatewayWebService</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ws="https://www.velocitypayment.com/ws">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <ws:SubmitWalletInformation>\r
         <ws:token>\r
            <ppi:UserName xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceAddTokenNegative#Username}</ppi:UserName>\r
            <ppi:Password xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceAddTokenNegative#Password}</ppi:Password>\r
            <ppi:PPITransactionRequestId xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceAddTokenNegative#RequestID}</ppi:PPITransactionRequestId>\r
            <ppi:PPIBusinessEntityIdentifierToken xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceAddTokenNegative#BEIDToken}</ppi:PPIBusinessEntityIdentifierToken>\r
         </ws:token>\r
         <ws:walletRequest>\r
            <ppi:Action xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceAddTokenNegative#Action}</ppi:Action>\r
            <ppi:NickName xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceAddTokenNegative#Nickname}</ppi:NickName>\r
            <ppi:WalletID xmlns:ppi="http://www.ePayments.com/PPI">${GroovyScriptGenWalletID#result}</ppi:WalletID>\r
            <ppi:Vehicle xmlns:ppi="http://www.ePayments.com/PPI">\r
               <ppip:AbaNumber xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceAddTokenNegative#ABANumber}</ppip:AbaNumber>\r
               <ppip:AccountType xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceAddTokenNegative#ACType}</ppip:AccountType>\r
               <ppip:CheckNumber xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceAddTokenNegative#CheckNum}</ppip:CheckNumber>\r
               <ppip:CheckType xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceAddTokenNegative#CheckType}</ppip:CheckType>\r
               <ppip:CheckNumberPosition xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceAddTokenNegative#CheckPos}</ppip:CheckNumberPosition>\r
               <ppip:CVV2Code xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceAddTokenNegative#CVV}</ppip:CVV2Code>\r
               <ppip:ExpirationDate xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceAddTokenNegative#ExpDate}</ppip:ExpirationDate>\r
               <ppip:PaymentVehicleNumber xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceAddTokenNegative#VehicleNumber}</ppip:PaymentVehicleNumber>\r
               <ppip:PaymentMethodCategory xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceAddTokenNegative#PMCategory}</ppip:PaymentMethodCategory>\r
               <ppip:EnforcePinDebitValidation xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceAddTokenNegative#EnforcePIN}</ppip:EnforcePinDebitValidation>\r
            </ppi:Vehicle>\r
            <ppi:Payor xmlns:ppi="http://www.ePayments.com/PPI">\r
               <ppi:AccountName>${DataSourceAddTokenNegative#ACName}</ppi:AccountName>\r
               <ppi:AddressLine1>${DataSourceAddTokenNegative#AL1}</ppi:AddressLine1>\r
               <ppi:AddressLine2>${DataSourceAddTokenNegative#AL2}</ppi:AddressLine2>\r
               <ppi:Country>${DataSourceAddTokenNegative#Country}</ppi:Country>\r
               <ppi:PhoneNumber>${DataSourceAddTokenNegative#Phone}</ppi:PhoneNumber>\r
               <ppi:FirstName>${DataSourceAddTokenNegative#FirstName}</ppi:FirstName>\r
               <ppi:LastName>${DataSourceAddTokenNegative#LastName}</ppi:LastName>\r
               <ppi:MiddleInitial>${DataSourceAddTokenNegative#MI}</ppi:MiddleInitial>\r
               <ppi:EmailAddress>${DataSourceAddTokenNegative#Email}</ppi:EmailAddress>\r
               <ppi:ZipCode>${DataSourceAddTokenNegative#ZIP}</ppi:ZipCode>\r
               <ppi:BusinessName>${DataSourceAddTokenNegative#BusineName}</ppi:BusinessName>\r
               <ppi:IsBusinessName>${DataSourceAddTokenNegative#IsBusName}</ppi:IsBusinessName>\r
            </ppi:Payor>\r
            <ppi:PaymentAccountToken xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceAddTokenNegative#PayACToken}</ppi:PaymentAccountToken>\r
            <ppi:ClientReferenceNumber xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceAddTokenNegative#ClientRefNum}</ppi:ClientReferenceNumber>\r
         </ws:walletRequest>\r
      </ws:SubmitWalletInformation>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="227df519-203b-4df5-8e02-3d53ff1ac0a1"/>
        <con:assertion type="XPath Match" id="92efba2d-4fe3-4f3e-925d-1ce4b80e8601" name="Match content of [ns0:ResultCode]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitWalletInformationResponse[1]/ns1:SubmitWalletInformationResult[1]/ns0:ResultCode[1]/text()</path>
            <content>${DataSourceAddTokenNegative#ResultCode}</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="43b90471-26c1-4279-883b-c283c673d781" name="Match content of [ns0:ResultText]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitWalletInformationResponse[1]/ns1:SubmitWalletInformationResult[1]/ns0:ResultText[1]/text()</path>
            <content>${DataSourceAddTokenNegative#ResultText}</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="77aa52a1-cb41-4829-b504-a0da9aeb956a" name="Match content of [ns0:Success]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitWalletInformationResponse[1]/ns1:SubmitWalletInformationResult[1]/ns0:Success[1]/text()</path>
            <content>${DataSourceAddTokenNegative#Success}</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="datasourceloop" name="DataSourceLoopAddTokenNegative" id="0bed34dd-35db-4658-b884-54a3bacc91bb">
    <con:settings/>
    <con:config>
      <dataSourceStep>DataSourceAddTokenNegative</dataSourceStep>
      <targetStep>GroovyScriptGenWalletID</targetStep>
    </con:config>
  </con:testStep>
  <con:testStep type="datasource" name="DataSourceDeleteWalletError" id="a55e61a1-4a28-4856-8219-3a38aebe1711">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:dataSource type="Excel">
        <con:configuration>
          <file>C:/SoapData/WalletData.xlsx</file>
          <worksheet>DeleteWalletError</worksheet>
          <cell>A2</cell>
          <ignoreEmpty>true</ignoreEmpty>
          <evaluateFormulas>false</evaluateFormulas>
        </con:configuration>
      </con:dataSource>
      <con:property>TestNotes</con:property>
      <con:property>Username</con:property>
      <con:property>Password</con:property>
      <con:property>RequestID</con:property>
      <con:property>BEIDToken</con:property>
      <con:property>Action</con:property>
      <con:property>Nickname</con:property>
      <con:property>WalletID</con:property>
      <con:property>ABANumber</con:property>
      <con:property>ACType</con:property>
      <con:property>CheckNum</con:property>
      <con:property>CheckType</con:property>
      <con:property>CheckPos</con:property>
      <con:property>CVV</con:property>
      <con:property>ExpDate</con:property>
      <con:property>VehicleNumber</con:property>
      <con:property>PMCategory</con:property>
      <con:property>EnforcePIN</con:property>
      <con:property>ACName</con:property>
      <con:property>AL1</con:property>
      <con:property>AL2</con:property>
      <con:property>Country</con:property>
      <con:property>Phone</con:property>
      <con:property>FirstName</con:property>
      <con:property>LastName</con:property>
      <con:property>MI</con:property>
      <con:property>Email</con:property>
      <con:property>ZIP</con:property>
      <con:property>BusineName</con:property>
      <con:property>IsBusName</con:property>
      <con:property>PayACToken</con:property>
      <con:property>ClientRefNum</con:property>
      <con:property>ResultCode</con:property>
      <con:property>ResultText</con:property>
      <con:property>Success</con:property>
      <con:startRow/>
      <con:endRow/>
      <con:recordsPerIteration>1</con:recordsPerIteration>
      <con:completeLastOperation>true</con:completeLastOperation>
      <con:trimValues>false</con:trimValues>
      <con:entitizeValues>false</con:entitizeValues>
      <con:restartOnRun>true</con:restartOnRun>
      <con:expandProperties>false</con:expandProperties>
    </con:config>
  </con:testStep>
  <con:testStep type="request" name="DeleteWalletError" id="ff4cc9ca-a10f-45b4-9227-45187b2920e9">
    <con:settings/>
    <con:config xsi:type="con:RequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
      <con:interface>PPIServiceFacadeSoap</con:interface>
      <con:operation>SubmitWalletInformation</con:operation>
      <con:request name="DeleteWalletError" id="03f98613-4de8-468a-a28a-0fe2ada41290">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>https://qa.velocitypayment.com:443/vgateway/VGatewayWebService</con:endpoint>
        <con:request><![CDATA[<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:ws="https://www.velocitypayment.com/ws">\r
   <soapenv:Header/>\r
   <soapenv:Body>\r
      <ws:SubmitWalletInformation>\r
         <ws:token>\r
            <ppi:UserName xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceDeleteWalletError#Username}</ppi:UserName>\r
            <ppi:Password xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceDeleteWalletError#Password}</ppi:Password>\r
            <ppi:PPITransactionRequestId xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceDeleteWalletError#RequestID}</ppi:PPITransactionRequestId>\r
            <ppi:PPIBusinessEntityIdentifierToken xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceDeleteWalletError#BEIDToken}</ppi:PPIBusinessEntityIdentifierToken>\r
         </ws:token>\r
         <ws:walletRequest>\r
            <ppi:Action xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceDeleteWalletError#Action}</ppi:Action>\r
            <ppi:NickName xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceDeleteWalletError#Nickname}</ppi:NickName>\r
            <ppi:WalletID xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceDeleteWalletError#WalletID}</ppi:WalletID>\r
            <ppi:Vehicle xmlns:ppi="http://www.ePayments.com/PPI">\r
               <ppip:AbaNumber xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceDeleteWalletError#ABANumber}</ppip:AbaNumber>\r
               <ppip:AccountType xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceDeleteWalletError#ACType}</ppip:AccountType>\r
               <ppip:CheckNumber xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceDeleteWalletError#CheckNum}</ppip:CheckNumber>\r
               <ppip:CheckType xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceDeleteWalletError#CheckType}</ppip:CheckType>\r
               <ppip:CheckNumberPosition xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceDeleteWalletError#CheckPos}</ppip:CheckNumberPosition>\r
               <ppip:CVV2Code xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceDeleteWalletError#CVV}</ppip:CVV2Code>\r
               <ppip:ExpirationDate xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceDeleteWalletError#ExpDate}</ppip:ExpirationDate>\r
               <ppip:PaymentVehicleNumber xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceDeleteWalletError#VehicleNumber}</ppip:PaymentVehicleNumber>\r
               <ppip:PaymentMethodCategory xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceDeleteWalletError#PMCategory}</ppip:PaymentMethodCategory>\r
               <ppip:EnforcePinDebitValidation xmlns:ppip="http://www.ePayments.com/PPIPayment">${DataSourceDeleteWalletError#EnforcePIN}</ppip:EnforcePinDebitValidation>\r
            </ppi:Vehicle>\r
            <ppi:Payor xmlns:ppi="http://www.ePayments.com/PPI">\r
               <ppi:AccountName>${DataSourceDeleteWalletError#ACName}</ppi:AccountName>\r
               <ppi:AddressLine1>${DataSourceDeleteWalletError#AL1}</ppi:AddressLine1>\r
               <ppi:AddressLine2>${DataSourceDeleteWalletError#AL2}</ppi:AddressLine2>\r
               <ppi:Country>${DataSourceDeleteWalletError#Country}</ppi:Country>\r
               <ppi:PhoneNumber>${DataSourceDeleteWalletError#Phone}</ppi:PhoneNumber>\r
               <ppi:FirstName>${DataSourceDeleteWalletError#FirstName}</ppi:FirstName>\r
               <ppi:LastName>${DataSourceDeleteWalletError#LastName}</ppi:LastName>\r
               <ppi:MiddleInitial>${DataSourceDeleteWalletError#MI}</ppi:MiddleInitial>\r
               <ppi:EmailAddress>${DataSourceDeleteWalletError#Email}</ppi:EmailAddress>\r
               <ppi:ZipCode>${DataSourceDeleteWalletError#ZIP}</ppi:ZipCode>\r
               <ppi:BusinessName>${DataSourceDeleteWalletError#BusineName}</ppi:BusinessName>\r
               <ppi:IsBusinessName>${DataSourceDeleteWalletError#IsBusName}</ppi:IsBusinessName>\r
            </ppi:Payor>\r
            <ppi:PaymentAccountToken xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceDeleteWalletError#PayACToken}</ppi:PaymentAccountToken>\r
            <ppi:ClientReferenceNumber xmlns:ppi="http://www.ePayments.com/PPI">${DataSourceDeleteWalletError#ClientRefNum}</ppi:ClientReferenceNumber>\r
         </ws:walletRequest>\r
      </ws:SubmitWalletInformation>\r
   </soapenv:Body>\r
</soapenv:Envelope>]]></con:request>
        <con:assertion type="SOAP Response" id="860abb05-c240-48b7-a162-202dba3b38f9"/>
        <con:assertion type="XPath Match" id="30482a60-90e0-43e3-a7cb-648dd4c56a48" name="Match content of [ns0:ResultCode]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitWalletInformationResponse[1]/ns1:SubmitWalletInformationResult[1]/ns0:ResultCode[1]/text()</path>
            <content>${DataSourceDeleteWalletError#ResultCode}</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="2985864e-15f1-4b28-b88f-fe9d6c2c2a9a" name="Match content of [ns0:ResultText]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitWalletInformationResponse[1]/ns1:SubmitWalletInformationResult[1]/ns0:ResultText[1]/text()</path>
            <content>${DataSourceDeleteWalletError#ResultText}</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:assertion type="XPath Match" id="40a99916-3d02-4e1b-9a51-f351b273df1a" name="Match content of [ns0:Success]">
          <con:configuration>
            <path>declare namespace ns0='http://www.ePayments.com/PPI';
declare namespace ns1='https://www.velocitypayment.com/ws';
//ns1:SubmitWalletInformationResponse[1]/ns1:SubmitWalletInformationResult[1]/ns0:Success[1]/text()</path>
            <content>${DataSourceDeleteWalletError#Success}</content>
            <allowWildcards>false</allowWildcards>
            <ignoreNamspaceDifferences>false</ignoreNamspaceDifferences>
            <ignoreComments>false</ignoreComments>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:wsaConfig mustUnderstand="NONE" version="200508"/>
        <con:wsrmConfig version="1.2"/>
      </con:request>
    </con:config>
  </con:testStep>
  <con:testStep type="datasourceloop" name="DataSource LoopDeleteWalletError" id="9f8b1284-cd51-4515-acd6-f2bd487e16cd">
    <con:settings/>
    <con:config>
      <dataSourceStep>DataSourceDeleteWalletError</dataSourceStep>
      <targetStep>DeleteWalletError</targetStep>
    </con:config>
  </con:testStep>
  <con:properties>
    <con:property>
      <con:name>WalletID</con:name>
      <con:value>3788081813</con:value>
    </con:property>
  </con:properties>
  <con:reportParameters/>
  <con:breakPoints>
    <con:testStepId>1d003d76-8b8f-4e13-a1ba-4543d147a9dc</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>ac086a7c-6d45-4e52-8ba3-c6d7b93b91c5</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>343d7343-fe51-47ea-98e0-748bb530fbf1</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>abbe322c-cb6e-4104-8f21-bafe0c1aee05</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>121eeb37-fa1b-4095-bb13-cd168a682d10</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>0781d6a9-bff7-475f-ba32-e887a7a8242c</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>b550bbd0-279c-41b6-b511-9b07424684ee</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:breakPoints>
    <con:testStepId>f72cfc91-aecb-4f5c-9892-a27f0d898c3f</con:testStepId>
    <con:status>NONE</con:status>
    <con:properties/>
  </con:breakPoints>
  <con:tagId>8a521550-6ac3-4c7c-a934-ce6f40204807</con:tagId>
</con:testCase>
